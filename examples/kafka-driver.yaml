name: Kafka
driverClass: benchmark.drivers.kafka.kafka_benchmark_driver.KafkaBenchmarkDriver

# Replication factor for Kafka topics
replicationFactor: 1

# Kafka common configuration
commonConfig: |
  bootstrap.servers=localhost:9092,localhost:9093,localhost:9094

# Producer-specific configuration (confluent-kafka uses librdkafka parameters)
producerConfig: |
  acks=1
  linger.ms=10
  batch.size=1048576
  request.timeout.ms=300000
  delivery.timeout.ms=1200000
  max.in.flight.requests.per.connection=10
  # ✅ 修复：队列大小从 10TB 改为合理的 1GB（1048576 KB）
  queue.buffering.max.kbytes=1048576
  # ✅ 增加队列中的消息数量限制
  queue.buffering.max.messages=1000000
  compression.type=lz4

# Consumer-specific configuration
consumerConfig: |
  auto.offset.reset=earliest
  enable.auto.commit=false
  session.timeout.ms=300000
  max.poll.interval.ms=300000
  # 性能优化参数 (librdkafka参数名)
  fetch.min.bytes=10240
  fetch.wait.max.ms=100
  fetch.message.max.bytes=10485760
  receive.message.max.bytes=100000000
  queued.min.messages=100000

# Topic configuration
topicConfig: |
  min.insync.replicas=1
